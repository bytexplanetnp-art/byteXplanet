<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ByteX Planet - Computers, Accessories, and Security Solutions (Dynamic)</title>
    
    <style>
        /* Base Setup */
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 0; 
            padding: 0; 
            background-color: #0a192f; 
            background-image: 
                linear-gradient(rgba(0, 123, 255, 0.08) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 123, 255, 0.08) 1px, transparent 1px);
            background-size: 20px 20px; 
            color: #ccc; 
        }
        .container { 
            width: 95%;
            max-width: 1200px;
            margin: 30px auto;
            padding: 20px;
            background-color: transparent; 
            border-radius: 10px;
            box-shadow: none; 
        }

        /* --- Animations --- */
        @keyframes logoPulse { 0% { transform: scale(1); } 50% { transform: scale(1.03); } 100% { transform: scale(1); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideDown { from { transform: translateY(-100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes pulseGrid {
            0% { background-position: 0 0, 0 0; }
            50% { background-position: 10px 10px, 10px 10px; }
            100% { background-position: 0 0, 0 0; }
        }
        body {
            animation: pulseGrid 60s linear infinite; 
        }

        /* --- Image Modal (Lightbox) Styles --- */
        .image-modal {
            display: none; 
            position: fixed; 
            z-index: 1000; 
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; 
            background-color: rgba(0, 0, 0, 0.9); 
            padding-top: 60px;
            transition: opacity 0.3s;
        }

        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            object-fit: contain;
            border-radius: 5px;
            animation-name: zoom;
            animation-duration: 0.6s;
        }

        /* The Close Button */
        .close-btn {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }

        @keyframes zoom {
            from {transform: scale(0)} 
            to {transform: scale(1)}
        }
        /* --- END Modal Styles --- */

        /* --- WHATSAPP CHOOSER MODAL --- */
        .whatsapp-chooser-modal {
            display: none; 
            position: fixed; 
            z-index: 2000; 
            background: rgba(0, 0, 0, 0.7);
            top: 0; left: 0; right: 0; bottom: 0;
        }

        .chooser-content {
            background-color: #1e293b;
            margin: 15% auto;
            padding: 25px;
            border: 2px solid #007bff;
            width: 90%; 
            max-width: 350px;
            border-radius: 10px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.6);
            position: relative;
            animation: fadeIn 0.3s;
        }
        .chooser-content h4 {
            color: #ffc107;
            margin-top: 0;
            margin-bottom: 15px;
            text-align: center;
            border-bottom: 1px dashed #007bff;
            padding-bottom: 10px;
            font-size: 1.1em;
        }
        .chooser-option {
            display: block;
            background-color: #25d366; 
            color: white; 
            padding: 10px;
            margin-bottom: 10px;
            text-decoration: none; 
            border-radius: 5px; 
            font-weight: bold; 
            transition: background-color 0.3s, transform 0.1s; 
            text-align: center;
        }
        .chooser-option:nth-child(3) { 
             background-color: #1a73e8; 
        }
        .chooser-option:hover { 
            background-color: #128c7e; 
            transform: scale(1.02);
        }
        .chooser-option:nth-child(3):hover {
            background-color: #1558b0;
        }
        .chooser-close {
            position: absolute;
            top: 5px;
            right: 15px;
            font-size: 24px;
            color: #ccc;
            cursor: pointer;
            transition: color 0.3s;
        }
        .chooser-close:hover {
            color: #ffc107;
        }
        /* --- END WHATSAPP CHOOSER MODAL --- */


        /* --- Header and Search Bar Styles --- */
        .header { 
            background-color: #007bff; color: white; padding: 15px 40px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.3); display: flex; 
            align-items: center; justify-content: space-between; 
            animation: slideDown 0.7s ease-out forwards; 
        }
        .logo-area { display: flex; align-items: center; }
        .header img { 
            height: 40px; width: 40px; margin-right: 15px; 
            border-radius: 50%; 
            animation: logoPulse 4s infinite ease-in-out; 
            object-fit: cover; 
        }
        .header h1 { font-size: 1.8em; margin: 0; cursor: pointer; }
        .search-area { display: flex; gap: 10px; }
        .search-area input[type="text"] { 
            padding: 8px 15px; border: none; border-radius: 5px; width: 250px; font-size: 1em; 
            transition: width 0.3s, box-shadow 0.3s; 
            background-color: #f0f0f0; 
            color: #333;
        }
        .search-area input[type="text"]:focus { width: 300px; box-shadow: 0 0 8px rgba(255, 193, 7, 0.8); outline: none; }
        .search-area button { background-color: #ffc107; color: #333; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; transition: background-color 0.3s, transform 0.1s; }
        .search-area button:hover { background-color: #e0a800; transform: scale(1.05); }
        .search-area button:active { transform: scale(0.98); }
        
        /* --- Product Grid Styles --- */
        h2 { text-align: center; color: #ffc107; margin-bottom: 30px; font-size: 2em; opacity: 0; animation: fadeIn 1s 0.5s forwards; }
        .product-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 20px; 
        }
        .product-card { 
            background: #1e293b; 
            border: 1px solid #007bff; 
            border-radius: 8px; 
            padding: 15px; 
            display: flex; 
            flex-direction: column; 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4); 
            transition: transform 0.3s, box-shadow 0.3s, height 0.5s ease-in-out, opacity 0.5s;
            height: 380px; 
            overflow: hidden; 
            opacity: 0; animation: fadeIn 1s forwards; 
        }
        .product-card.expanded {
            height: auto; 
        }

        .product-card:hover { transform: translateY(-5px); box-shadow: 0 10px 18px rgba(0, 123, 255, 0.3); }
        .product-image-area { height: 160px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px; overflow: hidden; }
        .product-image-area img { 
            max-width: 100%; max-height: 100%; object-fit: contain; 
            border-radius: 5px; transition: transform 0.5s ease-in-out; 
            cursor: pointer; 
        }
        .product-card:hover .product-image-area img { transform: scale(1.05) rotate(0deg); }

        .product-details { flex-grow: 1; }
        h3 { color: #007bff; font-size: 1.3em; margin-top: 0; padding-bottom: 5px; border-bottom: 1px solid #007bff; }
        h4 { font-size: 1em; color: #999; margin: 5px 0; }
        ul { list-style-type: none; padding: 0; columns: 1; margin-bottom: 5px; }
        .hidden-specs {
            max-height: 4.5em; 
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .hidden-specs.visible {
            max-height: 500px; 
        }

        ul li { padding-left: 0; margin-bottom: 3px; font-size: 0.9em; color: #ccc; transition: color 0.2s; }
        .product-card:hover ul li { color: #fff; }
        ul li::before { content: "‚Ä¢"; color: #ffc107; font-weight: bold; display: inline-block; width: 1em; margin-left: -1em; }

        .price-section { margin-top: auto; padding: 10px 0 0 0; border-top: 1px solid #007bff; text-align: center; }
        .price-section p { 
            font-size: 1.1em; 
            font-weight: bold; 
            color: #dc3545; 
            margin: 0 0 8px 0; 
            border: 2px solid #dc3545;
            padding: 3px 8px; 
            border-radius: 5px;
        }

        .show-more-btn {
            background-color: #3f51b5; 
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85em;
            margin-bottom: 8px; 
            transition: background-color 0.3s;
        }
        .show-more-btn:hover {
            background-color: #303f9f;
        }
        
        .whatsapp-single-button { 
            display: block; 
            background-color: #25d366; 
            color: white; 
            padding: 10px 8px; 
            text-decoration: none; 
            border-radius: 4px; 
            font-size: 1em; 
            font-weight: bold; 
            transition: background-color 0.3s, transform 0.1s, box-shadow 0.3s; 
            box-shadow: 0 3px #128c7e; 
            cursor: pointer;
        }
        .whatsapp-single-button:hover { 
            background-color: #128c7e; 
            box-shadow: 0 1px #128c7e; 
            transform: translateY(2px); 
        }

        /* --- Footer Styles (Unchanged) --- */
        .footer-area {
            background-color: #1e293b; 
            color: #ccc;
            padding: 40px 20px;
            margin-top: 50px;
            font-size: 0.95em;
            opacity: 0; 
            animation: fadeIn 1s 2s forwards;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            max-width: 1000px; 
            margin: 0 auto;
            gap: 40px; 
        }

        .footer-column h4 {
            font-size: 1.1em;
            font-weight: bold;
            color: #ffc107; 
            margin-bottom: 15px;
            border-bottom: 2px solid #007bff; 
            padding-bottom: 5px;
        }
        
        .footer-column ul { list-style: none; padding: 0; margin: 0; }
        .footer-column ul li { margin-bottom: 8px; }
        .footer-column ul li a { color: #999; text-decoration: none; transition: color 0.3s; display: block; }
        .footer-column ul li a:hover { color: #007bff; text-decoration: underline; }
        
        .copyright-bar {
            text-align: center;
            padding: 15px 0 0;
            border-top: 1px solid #007bff;
            margin-top: 20px;
            color: #999;
            font-size: 0.85em;
        }

        .link-icon {
            margin-right: 8px;
            font-size: 1.1em;
            width: 20px; 
            display: inline-block;
            text-align: center;
            color: #ffc107; 
        }
        .social-icon {
            margin-right: 5px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="logo-area">
            <img src="logo.jpeg" alt="ByteX Planet Logo">
            <h1 onclick="showMainContent()">ByteX Planet</h1>
        </div>
        
        <div class="search-area">
            <input type="text" placeholder="Search products...">
            <button id="search-btn">Search</button>
        </div>
    </div>

    <div class="container">
        
        <div id="about-us-page" style="display: none;">
            <div class="about-us-content">
                <h2>üåü About ByteX Planet: Your Digital Hub in Nepal</h2>
                
                <h3>Our Mission</h3>
                <p>
                    ByteX Planet was founded on the belief that access to **premium, reliable technology** should be easy and affordable for everyone in Nepal. We strive to be more than just a seller; we aim to be your trusted partner in navigating the digital world, providing cutting-edge devices, essential accessories, and robust security solutions.
                </p>
                <blockquote style="border-left: 4px solid #ffc107; padding-left: 15px; margin: 15px 0; color: #aaa;">
                    **Our Promise:** To deliver genuine products, transparent pricing, and unparalleled customer service, ensuring you get the best value for your digital investment.
                </blockquote>
                <p style="text-align: center; margin-top: 40px; font-weight: bold; color: #ffc107;">
                    Thank you for choosing ByteX Planet. We look forward to powering your digital life!
                </p>
                <button onclick="showMainContent()" class="whatsapp-single-button" style="background-color: #007bff; margin-top: 20px; width: 100%;">‚Üê Back to Products</button>
            </div>
        </div>

        <div id="main-content">
            <h2>üöÄ Our Featured Products</h2>
            <div class="product-grid" id="product-grid-container">
            </div> 
        </div>
    </div> 
    
    <div class="footer-area">
        <div class="footer-grid">

            <div class="footer-column">
                <h4>Information</h4>
                <ul>
                    <li>
                        <a href="#" onclick="showAboutUs(event)">
                            <span class="link-icon">‚ìò</span> About Us
                        </a>
                    </li>
                </ul>
            </div>

            <div class="footer-column">
                <h4>Categories</h4>
                <ul>
                    <li>
                        <a href="#" onclick="filterProducts('Laptops', event)">
                            <span class="link-icon">üíª</span> Laptops
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="filterProducts('Monitors', event)">
                            <span class="link-icon">üñ•Ô∏è</span> Monitors
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="filterProducts('Macbook', event)">
                            <span class="link-icon">üíª</span> Macbook
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="filterProducts('CCTV', event)">
                            <span class="link-icon">üìπ</span> CCTV
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="filterProducts('Accessories', event)">
                            <span class="link-icon">üñ±Ô∏è</span> Accessories
                        </a>
                    </li>
                </ul>
            </div>

            <div class="footer-column">
                <h4>Connect With Us</h4>
                <ul>
                    <li>
                        <a href="https://www.facebook.com/profile.php?id=61584272007046" target="_blank">
                            <span class="social-icon" style="color:#1877F2;">f</span> Facebook
                        </a>
                    </li>
                    <li>
                        <a href="https://www.instagram.com/bytex_planet?igsh=MTk5YjRmMHZzbTV6Zw==" target="_blank">
                            <span class="social-icon" style="color:#C13584;">@</span> Instagram
                        </a>
                    </li>
                    <li>
                        <a href="https://www.tiktok.com/@bytex.planet?_r=1&_t=ZS-91jssnj3OIz" target="_blank">
                            <span class="social-icon" style="color:#000000;">‚ô¨</span> Tiktok
                        </a>
                    </li>
                    <li>
                        <a href="https://wa.me/9779826949133" target="_blank"> 
                            <span class="social-icon" style="color:#25D366;">‚úÜ</span> Whatsapp (982...) 
                        </a>
                    </li>
                    <li>
                        <a href="https://wa.me/9779761626747" target="_blank"> 
                            <span class="social-icon" style="color:#1a73e8;">‚úÜ</span> Whatsapp (976...) 
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        
        <div class="copyright-bar">
            <p>&copy; 2025 ByteX Planet. All rights reserved. Computers, Accessories, and Security Solutions.</p>
            <p>üìß Email: bytexplanet.np@gmail.com | üìû Contact: 9826949133, 9761626747</p> 
        </div>
    </div>

    <div id="imageModal" class="image-modal" onclick="closeModal()">
        <span class="close-btn" onclick="closeModal(event)">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>

    <div id="whatsappChooserModal" class="whatsapp-chooser-modal" onclick="closeWhatsAppChooser(event)">
        <div class="chooser-content">
            <span class="chooser-close" onclick="closeWhatsAppChooser(event)">&times;</span>
            <h4>Contact on WhatsApp for Product:</h4>
            <p id="chooserProductName" style="text-align: center; color: white; font-weight: bold; margin-bottom: 15px;"></p>
            
            <a href="#" id="chooserOption1" class="chooser-option" data-number="9826949133">
                <span style="font-size: 1.1em; margin-right: 5px;">‚úÜ</span> Contact Seller 1 (9826...)
            </a>
            
            <a href="#" id="chooserOption2" class="chooser-option" data-number="9761626747">
                <span style="font-size: 1.1em; margin-right: 5px;">‚úÜ</span> Contact Seller 2 (9761...)
            </a>
            
            <small style="display: block; text-align: center; margin-top: 15px; color: #aaa;">Clicking will open WhatsApp chat.</small>
        </div>
    </div>
    
    <script>
        // --- 1. Product Data (15 Products with NEW Budget Mechanical Keyboard) ---
        const products = [
            // Laptops (3)
            { 
                id: 1, 
                name: "Acer Nitro V 16 2024 Gaming Laptop", 
                image: "https://lnithub.com.np/wp-content/uploads/2025/09/acer-nitro-v-15-2024-price-in-nepal_4_1.jpg", 
                specs: "Key Specifications:", 
                features: ["AMD Ryzen 7 8845HS Processor", "NVIDIA GeForce RTX 4050 6GB", "16GB RAM, 512GB SSD Storage", "16-inch WUXGA (1920 x 1200) IPS 165Hz", "2024 AI-integrated Gaming Laptop"], 
                color: "#25d366", 
                boxShadow: "#128c7e", 
                category: "Laptops",
                price: "1,41,000"
            },
            { id: 2, name: "Lenovo IdeaPad Slim 3 Everyday Laptop", image: "https://lnithub.com.np/wp-content/uploads/2025/09/lenovo-ideapad-slim-3-15iru9-price-in-nepal-768x494.jpg", specs: "Key Features:", features: ["**Processor:** Intel Core i5 / Core i3 Series", "**RAM/Storage:** 8GB DDR4 RAM, 512GB NVMe SSD", "**Display:** 15.6-inch Full HD Anti-Glare Screen", "**Design:** Slim, lightweight chassis (under 1.8kg)", "**Features:** Privacy Shutter for Webcam"], color: "#17a2b8", boxShadow: "#138496", category: "Laptops", price: null },
            { id: 6, name: "Acer Aspire 3 A325 Everyday Laptop", image: "https://lnithub.com.np/wp-content/uploads/2025/10/onin_acer-aspire-3-a325-price-in-nepal-2025-768x768.webp", specs: "Standard Specifications:", features: ["Intel Core i3 or equivalent AMD CPU", "8GB DDR4 RAM (Expandable)", "Fast 256GB/512GB SSD Storage", "15.6-inch Full HD (1920x1080) Display", "Windows 11 Home Pre-installed"], color: "#25d366", boxShadow: "#128c7e", category: "Laptops", price: null },

            // Macbook (1)
            { id: 11, name: "Apple MacBook Pro 14-inch M3 Chip (Latest Model)", image: "macbook.jpg", specs: "Key Specifications:", features: ["Apple M3 Pro/Max Chip", "14.2-inch Liquid Retina XDR Display (120Hz)", "18GB Unified RAM (Configurable)", "512GB/1TB Ultrafast SSD Storage", "Up to 18 hours of battery life"], color: "#555555", boxShadow: "#333333", category: "Macbook", price: null },

            // Monitors (2)
            { 
                id: 10, 
                name: "Dahua DHI-LM27-C201P 27-inch Curved Monitor", 
                image: "https://lnithub.com.np/wp-content/uploads/2025/11/DHI-LM27-C201P-dahua-monitor-buy-in-nepal-768x768.webp", 
                specs: "Display Features:", 
                features: ["27-inch Curved VA Panel (1500R/1800R)", "Full HD Resolution (1920x1080)", "75Hz Refresh Rate / 5ms Response Time", "Wide Viewing Angle (178¬∞/178¬∞)", "Slim Bezel Design with Tilt Adjustment"], 
                color: "#4CAF50", 
                boxShadow: "#388E3C", 
                category: "Monitors", 
                price: null 
            },
            { 
                id: 12, 
                name: "Budget 19-inch Office Monitor", 
                image: "monitors.jpg",
                specs: "Essential Specifications:", 
                features: [
                    "Screen Size: **19 inches**", 
                    "Resolution: **1366 x 768 pixels** (HD Ready)", 
                    "Display Technology: **LED technology** for energy efficiency.", 
                    "Viewing Angles: 170¬∞ horizontal and 160¬∞ vertical.", 
                    "Connectivity: **HDMI and VGA ports** for compatibility."
                ], 
                color: "#ff8c00", // Dark Orange
                boxShadow: "#e07b00", 
                category: "Monitors", 
                price: "9,500"
            },

            // CCTV (3 Existing + 2 New = 5 Total)
            { id: 4, name: "Professional 4K CCTV System", image: "https://lnithub.com.np/wp-content/uploads/2020/12/4K-Cameras.jpg", specs: "System Features:", features: ["Crystal-clear 4K Ultra HD video quality", "24/7 Night Vision and Smart Motion Detection", "Remote Live Viewing via mobile app (Android/iOS)", "Weatherproof IP66/IP67 rated cameras", "Two-Way Audio for communication/deterrence"], color: "#00bcd4", boxShadow: "#0097a7", category: "CCTV", price: null },
            
            // --- NEW TIANDY 2MP CAMERA ---
            { 
                id: 13, 
                name: "Tiandy 2MP Smart Wireless Home Camera", 
                image: "tiandy2mp.png", // Placeholder image (Suggest replacing with real Tiandy 2MP image)
                specs: "Key Specifications:", 
                features: [
                    "Resolution: **2 Megapixel** (1080P Full HD)", 
                    "Connectivity: **Wi-Fi** (2.4GHz) for easy setup.", 
                    "Night Vision: High-performance IR LED night vision.", 
                    "Features: **Two-Way Audio**, Motion Detection Alarm.", 
                    "Storage: Supports Micro SD Card Storage (Max 128GB)."
                ], 
                color: "#4a76a8", // Muted Blue
                boxShadow: "#395b7f", 
                category: "CCTV", 
                price: "4,500" 
            },
            
            // --- NEW TIANDY 4MP CAMERA ---
            { 
                id: 14, 
                name: "Tiandy 4MP Outdoor Wireless PT Camera", 
                image: "tiandy.jpg", // Placeholder image (Suggest replacing with real Tiandy 4MP image)
                specs: "Advanced Features:", 
                features: [
                    "Resolution: **4 Megapixel** (2K Super HD)", 
                    "Features: **Pan/Tilt (PT)** functionality, 360¬∞ coverage.", 
                    "Weather Rating: **IP66** Weatherproof for outdoor use.", 
                    "Night Vision: **Color Night View** (Starlight Technology).", 
                    "Smart Functions: Human Shape Detection, Auto Tracking."
                ], 
                color: "#00bfa5", // Teal/Mint
                boxShadow: "#009688", 
                category: "CCTV", 
                price: "9,800" 
            },
            // End of new CCTV products

            // Accessories (5 Existing + 1 Updated = 6 Total)
            { 
                id: 3, 
                name: "Canon CanoScan LiDE 300 Scanner", 
                image: "scanner.jpg",
                specs: "Key Features:", 
                features: ["2400 x 2400 dpi optical resolution", "Scans an A4 page in ~10 seconds", "USB Powered (no separate AC adapter)", "4 quick EZ Buttons for Auto Scan, PDF, etc.", "Compact, sleek, and space-saving design"], 
                color: "#6f42c1", 
                boxShadow: "#563d7c", 
                category: "Accessories",
                price: "9,000" 
            },
            
            // --- UPDATED LOW-RANGE MECHANICAL KEYBOARD ---
            { 
                id: 15, 
                name: "Mechanical Keyboard", 
                image: "keyboard.png", // Use a generic/budget image
                specs: "Budget Gaming Features:", 
                features: [
                    "Switches: **Blue Mechanical Switches** (Clicky)", 
                    "Layout: **87-Key Tenkeyless (TKL)** compact design", 
                    "Lighting: **Rainbow LED Backlighting** (not per-key RGB)", 
                    "Durability: Double-shot keycaps, metal plate construction",
                    "Connectivity: Wired USB"
                ], 
                color: "#e6e6e6", 
                boxShadow: "#cccccc", 
                category: "Accessories",
                price: "3,500" // New low price
            },
            // --- END UPDATED PRODUCT ---

            { 
                id: 5, 
                name: "Fantech Phantom II VX6 Mouse", 
                image: "https://lnithub.com.np/wp-content/uploads/2025/11/Lucid_Origin_A_highly_detailed_image_of_the_Fantech_Phantom_II_0.jpg", 
                specs: "Key Features:", 
                features: ["High-Precision Gaming Sensor for accurate tracking", "RGB Lighting Effects with vibrant multicolor glow", "Ergonomic Design for comfortable long gaming sessions", "Durable Switches with long lifespan", "7 Programmable Buttons for custom control", "Adjustable DPI Levels (up to gaming-grade sensitivity)", "USB Wired Connection for zero-lag performance", "Lightweight Build for quick and effortless movement"], 
                color: "#dc3545", 
                boxShadow: "#c82333", 
                category: "Accessories",
                price: "1,400"
            },
            { id: 7, name: "HyperX Cloud II Gaming Headset", image: "https://lnithub.com.np/wp-content/uploads/2025/11/692bca2e1de9a526a1f6db9f1c486015-1.jpg", specs: "Key Features:", features: ["Driver size: 53 mm", "Frequency response: 15 Hz ‚Äì 25 kHz", "Impedance: 60 Œ©", "Microphone: Detachable noise-cancelling mic", "Surround sound: Virtual 7.1 (via USB control box)"], color: "#fd7e14", boxShadow: "#e86800", category: "Accessories", price: "14,000" },
            { 
                id: 8, 
                name: "Fantech GP13 Shooter II Gamepad", 
                image: "https://lnithub.com.np/wp-content/uploads/2025/11/Lucid_Origin_A_detailed_photo_of_the_Fantech_GP13_Shooter_II_G_3-768x768.jpg", 
                specs: "Controller Specifications:", 
                features: ["Wired connection for lag-free gaming", "Vibration feedback for immersive experience", "Ergonomic design for comfortable grip", "Dual analog sticks and precise D-pad", "Compatible with PC (XInput and DInput)"], 
                color: "#9932CC", 
                boxShadow: "#6A0DAD", 
                category: "Accessories",
                price: "2,200"
            },
            { id: 9, name: "Logitech G PRO X Gaming Headset", image: "https://lnithub.com.np/wp-content/uploads/2025/11/image-3.jpg", specs: "PRO Grade Audio:", features: ["Detachable Blue VO!CE microphone technology", "DTS Headphone:X 2.0 7.1 surround sound", "Next-gen 50 mm PRO-G drivers", "Premium leatherette and cloth earpads", "Durable steel and aluminum construction"], color: "#000000", boxShadow: "#444444", category: "Accessories", price: "18,000"}
        ];

        let currentFilter = 'All'; 
        const gridContainer = document.getElementById('product-grid-container');
        
        // Image Modal Elements
        const imageModal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        
        // WhatsApp Chooser Elements
        const whatsappChooserModal = document.getElementById('whatsappChooserModal');
        const chooserProductName = document.getElementById('chooserProductName');
        const chooserOption1 = document.getElementById('chooserOption1');
        const chooserOption2 = document.getElementById('chooserOption2');

        const whatsappNumbers = [
            { number: '9826949133', color: '#25d366', boxShadow: '#128c7e' },
            { number: '9761626747', color: '#1a73e8', boxShadow: '#1558b0' } 
        ];
        
        // --- Utility Functions ---
        function showMainContent() {
            document.getElementById('about-us-page').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            filterProducts(currentFilter, null); // Re-render current filter or 'All'
        }

        function showAboutUs(event) {
            if (event) event.preventDefault();
            document.getElementById('main-content').style.display = 'none';
            document.getElementById('about-us-page').style.display = 'block';
        }

        function formatPrice(price) {
            if (!price) return null;
            // Ensure it's a string, remove existing commas, then add new ones
            const priceStr = String(price).replace(/,/g, '');
            return priceStr.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }


        // --- Image Modal Functions ---
        function openModal(imageUrl) {
            modalImage.src = imageUrl;
            imageModal.style.display = "block";
        }

        function closeModal(event) {
            if (event && event.target === modalImage) {
                return;
            }
            imageModal.style.display = "none";
        }

        // --- WhatsApp Chooser Functions ---
        function openWhatsAppChooser(productName, productId) {
            chooserProductName.textContent = productName;
            
            const whatsappMessage = `Hello ByteX Planet, I am interested in the ${productName} (Product ID: ${productId}). Please provide more details.`;
            const encodedMessage = encodeURIComponent(whatsappMessage);

            // Configure Link 1
            const number1 = whatsappNumbers[0].number;
            chooserOption1.href = `https://wa.me/977${number1}?text=${encodedMessage}`;
            chooserOption1.setAttribute('data-number', number1);
            
            // Configure Link 2
            const number2 = whatsappNumbers[1].number;
            chooserOption2.href = `https://wa.me/977${number2}?text=${encodedMessage}`;
            chooserOption2.setAttribute('data-number', number2);
            
            whatsappChooserModal.style.display = "block";
        }

        function closeWhatsAppChooser(event) {
            if (event && (event.target === whatsappChooserModal || event.target.className === 'chooser-close')) {
                 whatsappChooserModal.style.display = "none";
            }
        }
        
        chooserOption1.onclick = closeWhatsAppChooser;
        chooserOption2.onclick = closeWhatsAppChooser;


        // Close modals on escape key press
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                if (imageModal.style.display === 'block') {
                    closeModal();
                }
                if (whatsappChooserModal.style.display === 'block') {
                    closeWhatsAppChooser({ target: whatsappChooserModal }); 
                }
            }
        });
        // --- END WhatsApp Chooser Functions ---


        function toggleDetails(cardId, buttonElement) {
            const card = document.getElementById(`card-${cardId}`);
            const specsDiv = card.querySelector('.hidden-specs');

            if (card.classList.contains('expanded')) {
                card.classList.remove('expanded');
                specsDiv.classList.remove('visible');
                buttonElement.textContent = 'Show More...';
            } else {
                card.classList.add('expanded');
                specsDiv.classList.add('visible');
                buttonElement.textContent = 'Show Less';
            }
        }

        function filterProducts(category, event) {
            if (event) event.preventDefault();

            let filteredList;
            if (category === 'All') {
                filteredList = products;
            } else {
                filteredList = products.filter(p => p.category === category);
            }

            currentFilter = category;
            renderProducts(filteredList, category);
        }

        function searchProducts() {
            const searchTerm = document.querySelector('.search-area input[type="text"]').value.toLowerCase().trim();
            if (searchTerm === '') {
                filterProducts('All', null);
                return;
            }
            
            const searchResults = products.filter(product => {
                // Search by Name or Category
                if (product.name.toLowerCase().includes(searchTerm) || product.category.toLowerCase().includes(searchTerm)) {
                    return true;
                }
                // Search by features
                return product.features.some(feature => feature.toLowerCase().includes(searchTerm));
            });

            renderProducts(searchResults, `Search Results for "${searchTerm}"`);
        }
        
        document.getElementById('search-btn').addEventListener('click', searchProducts);


        function renderProducts(productList, filterName) {
            gridContainer.innerHTML = ''; 

            let productHTML = '';
            productList.forEach((product, index) => {
                const featuresList = product.features.map(feature => `<li>${feature}</li>`).join('');
                
                const formattedPrice = formatPrice(product.price);
                const priceText = formattedPrice ? `Price: **Rs ${formattedPrice}**` : `Price: **Contact us for the best price!**`;

                const whatsappButtonHTML = `
                    <button 
                        class="whatsapp-single-button" 
                        onclick="openWhatsAppChooser('${product.name}', ${product.id}); event.stopPropagation();">
                        <span style="font-size: 1.1em; margin-right: 5px;">‚úÜ</span> Enquire on WhatsApp
                    </button>
                `;
                
                const animationDelay = (0.3 + index * 0.1) + 's';
                
                productHTML += `
                    <div class="product-card" id="card-${product.id}" style="animation-delay: ${animationDelay};">
                        <div class="product-image-area">
                            <img src="${product.image}" alt="${product.name}" onclick="openModal('${product.image}')">
                        </div>
                        <div class="product-details">
                            <h3>${product.name}</h3>
                            <h4>${product.specs}</h4>
                            <div class="hidden-specs"> 
                                <ul>
                                    ${featuresList}
                                </ul>
                            </div>
                            <button onclick="toggleDetails(${product.id}, this)" class="show-more-btn">Show More...</button>
                        </div>
                        <div class="price-section">
                            <p>${priceText}</p>
                            ${whatsappButtonHTML}
                        </div>
                    </div> 
                `; // CLOSES .product-card
            });
            
            gridContainer.innerHTML = productHTML;
            
            // Update the main content heading based on the filter
            document.querySelector('#main-content h2').textContent = 
                filterName === 'All' ? 'üöÄ Our Featured Products' : `Products in: üè∑Ô∏è ${filterName}`;
        }
        
        // Initial product load
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts(products, 'All');
        });
    </script>
</body>
</html>